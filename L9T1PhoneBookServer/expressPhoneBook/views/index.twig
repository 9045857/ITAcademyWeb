{% extends 'layout.twig' %}

{% block body %}
	{% verbatim %}
	<div id="app" v-cloak class="container">
		<h1 class="my-3">
			<span class="badge badge-secondary">L9T1</span> Задача "PhoneBookServer"
		</h1>

		<div class="row mb-4">
			<div class="col-lg-4 col-md-6">				
				<div class="form-group">
					<label>Имя</label>
					<input type="text"
							v-model="name"
							class="form-control">				
				</div>

				<div class="form-group">
					<label>Телефон</label>
					<input type="text" 
							v-model="phone"
							class="form-control">
				</div>

				<button type="button"
						@click="addContact"
						class="btn btn-primary">Добавить
				</button>		
			</div>
		</div>

		<div class="form-row">
                <div class="input-group mb-3 col-lg-4 col-md-6">
                    <div class="input-group-prepend">
                        <span class="input-group-text">
                            <i class="fas fa-search"></i>
                        </span>
                    </div>
                    <input type="text" class="form-control" v-model="term">
                </div>
                <div class="form-group">
                    <button class="btn btn-primary" 
							type="button" 
							@click="getContacts">Найти
					</button>
                    <button class="btn btn-outline-primary" 
							@click="clearSearch" 
							type="button">Очистить
					</button>
                </div>
            </div>

		<div>
			<table class="table table-striped">
			  <thead>
				<tr>
				  <th>#</th>
				  <th>Name</th>
				  <th>Phone</th>
				  <th>&times;</th>
				</tr>
			  </thead>
			  <tbody>
				<tr :key="c.id" v-for="(c,index) in contacts">
				  <td>{{index+1}}.</td>
				  <td v-text="c.name"></td>
				  <td v-text="c.phone"></td>
				  <td>
					<button type="button" 
							class="btn btn-danger"
							@click="deleteContact(c)">&times;</button>
				  </td>
				</tr>				
			  </tbody>
			</table>
		</div>
	</div>

	{% endverbatim %}
{% endblock %}
